
<div class="mm-page mm-slideout" style="background-color: white; overflow: hidden;">
  <ngx-spinner></ngx-spinner>
  <app-navbar></app-navbar>

  <div id="container_home">

      <div class="container-fluid container-lg container-home" *ngIf="this.pageHistory === 'buyPage' && this.asset.market === 0">
          <p class="text-uppercase small font-weight-medium">
              Details
          </p>
          <h2 class="text-uppercase font-weight-light">
              View More details:
          </h2>
          <div class="row" style=" padding-bottom: 15px; overflow-x: scroll; margin-top: 3rem;">
            <mat-card class="col-lg-7 col-md-7 col-sm-7" style="font-family: 'Inter', serif;">
              <mat-card-header>
                <img src="{{this.asset.imageUrl}}" style="width: 100%; max-height: 30rem; margin-bottom: 10px; margin-left: 1rem;
                 box-shadow: 5px 5px 5px #ccc;
                      -moz-box-shadow: 10px 10px 5px #ccc;
                      -webkit-box-shadow: 10px 10px 5px #ccc;
                      -khtml-box-shadow: 10px 10px 5px #ccc;">
              </mat-card-header>
              <mat-card-subtitle style="text-align: center;">
                Artist: {{this.asset.artistName}}
              </mat-card-subtitle>
              <mat-card-content>
              </mat-card-content>
            </mat-card>
      
      
            
            <mat-card class="col-lg-3 col-md-3 col-sm-3">
                <mat-card-content>
                  <div class="col-lg-12 col-md-12 col-sm-12" style="font-family: 'Inter', serif;">
                      <p>
                          <b> Title: </b> {{this.asset.titleOfWork}}
                        </p>
              
                        <p>
                            <b> Created on: </b> {{this.asset.createdOn  | date}}
                        </p>
              
                        <p>
                          <b> Issuing Price: </b>  {{this.asset.issuingPrice | currency:"$"}}
                        </p>
                       <p>
                        <b> Symbol: </b> {{this.asset.symbol}}
                       </p>
                        <p>
                          <b> Total Supply: </b> {{this.asset.totalSupply}}
                        </p>
                        <p>
                            <b>Remaining Shares:</b> {{this.remainingShares}}
                        </p>
                        <p *ngIf="this.asset.market === 1">
                          <b>Market:</b> Secondary
                        </p>
                        <p *ngIf="this.asset.market === 0">
                          <b>Market:</b> Primary
                        </p>
                        <p>
                          <b> Token ID: </b>  
                          <a href="https://blockscout.com/poa/sokol/tokens/0x0B0faDc11c1E868dD0Dbca84436BFAA08Ee2f360/instance/{{this.asset.tokenId}}/token-transfers" target="_blank" style="color: blue;">  
                            {{this.asset.tokenId}} - 
                            Verify <span class="material-icons" style="color: orange !important;">
                              fingerprint
                            </span>
                          </a>
                        </p>
                        <p>
                          <b> Description: </b> {{this.asset.description}}
                        </p>
                    
                    
                    </div>
                </mat-card-content>
            </mat-card>
      
            <mat-card class="col-lg-2 col-md-2 col-sm-2" style="font-family: 'Inter', serif;" *ngIf="this.notLoggedIn === false">

              

              <mat-card-content >
                <form #buyForm="ngForm" novalidate>
                  <div class="row">
                    <div class="col-md-9"  *ngIf="this.asset.market === 1" >
                      <mat-label>Order Strategy</mat-label>
                      <mat-select id ="orderStrategy" name="orderStrategy" placeholder="Good Till Cancel" [(ngModel)]="orderStrategy" >
                        <mat-option *ngFor="let strategy of demoStrategy" [value]="strategy.code" > {{strategy.name}} </mat-option>
                      </mat-select>
                            
                    </div>
                </div>

                <div class="row">
                  <div class="col-lg-12 col-md-12 col-sm-12">
                    <p><b> Account Balance: </b>{{this.balance | currency:"$"}} </p>
                  </div>

                  <div class="col-lg-12 col-md-12 col-sm-12">
                    <p> <b> Owned Shares: </b> {{this.shares}} </p>
                  </div>

                </div>

                <div class="row">

                  <mat-radio-group
                  aria-labelledby="example-radio-group-label"
                  class="example-radio-group"
                  #radioGroup="matRadioGroup"
                  style="color: black !important;">
                  <mat-radio-button class="example-radio-button" value="buy" style="margin-left: 1rem; margin-right: 3rem; margin-top: 1rem">
                    Buy
                  </mat-radio-button>
                  <mat-radio-button class="example-radio-button" value="sell" style="margin-left: 1rem; margin-bottom: 1rem; color: black !important;">
                   Sell
                  </mat-radio-button>
                </mat-radio-group>

                </div>

                
      
                  <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width">
                          <input matInput placeholder="Quantity" type="number" id="amount" name="amount" [(ngModel)]="amount">
                        </mat-form-field>
                      </div>
                  </div>
      
                  <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12">
                        <mat-form-field class="example-full-width">
                          <input matInput [readonly]="!editable" placeholder="Price: {{this.asset.issuingPrice | currency:'$'}}" type="number" value="{{this.asset.issuingPrice}}" id="price" name="price" [(ngModel)]="price">
                        </mat-form-field>
                      </div>
                  </div>

                  <div class="row" *ngIf="radioGroup.value === 'sell'">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width">
                        <input matInput  placeholder="Enter Price" type="number"  id="price" name="price" [(ngModel)]="price">
                      </mat-form-field>
                    </div>
                </div>
                  
                  <div style="padding-bottom: 20px; ">
                  <div class="row" *ngIf="this.amount">;
                    <div class="col-lg-12 col-md-12 col-sm-12">
                      <p><b> Total: </b>  {{this.amount * this.asset.issuingPrice | currency:"$"}} </p>
                    </div>
                  </div>

                    <div class="clearfix"></div>
                  </div>
                  <div style="padding-bottom: 20px;">
                    <button *ngIf="!this.amount" disabled class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;"  data-toggle="modal" data-target="#buyModalLong">
                
                        Buy Asset
                    
                    </button>

                    <button *ngIf="radioGroup.value !== 'sell'" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;"  data-toggle="modal" data-target="#buyModalLong">
                
                      Buy Asset
                  
                  </button>

                  <button *ngIf="this.amount && radioGroup.value === 'sell'" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;"  data-toggle="modal" data-target="#buyModalLong">
                
                    Sell Asset
                
                </button>
                  <div class="clearfix"></div>
                </div>

                

                <div  class="modal fade" id="buyModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" *ngIf="this.amount ">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel" style="text-align: center !important;">Order Confirmation</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                            <div>
                                <div class="row">
                                    <p style="margin-left: 20%; margin-right: 29%;"> 
                                      <b>Title: </b> 
                                    </p> 
                                    <b> {{this.asset.titleOfWork}} </b>
                                </div>
                                <div class="row">
                                    <p style="margin-left: 20%; margin-right: 30%;">
                                        <b>Price: </b> 
                                    </p>
                                    <b> {{this.asset.issuingPrice | currency:"$"}} </b>
                                </div>
                                <div class="row">
                                    <p style="margin-left: 20%; margin-right: 25%;">
                                        <b> Quantity: </b> 
                                    </p>
                                    <b> {{this.amount}} </b>
                                </div>

                                <div class="row">
                                  <p style="margin-left: 20%; margin-right: 25%;">
                                    <b>SMS Fee:</b>
                                  </p>
                                  <b> 
                                    {{this.fees.smsNotification | currency:"$"}} </b>
                                </div>

                                <div class="row">
                                  <p style="margin-left: 20%; margin-right: 25%;">
                                    <b>
                                      NSE Fee:
                                    </b>
                                  </p>
                                  <b>
                                    {{this.fees.nse | currency:"$"}}
                                  </b>
                                </div>

                                <div class="row">
                                  <p style="margin-left: 19%; margin-right: 16%;">
                                    <b> Transaction Fee: </b>
                                  </p>
                                  <b>  {{this.fees.transaction | currency:"$"}}</b>
                                </div>

                                <div class="row">
                                  <p style="margin-left: 19%; margin-right: 17%;">
                                    <b> Blockchain Fee: </b>
                                  </p>
                                  <b> {{this.fees.blockchain | currency:"$"}} </b>
                                </div>

                                <div class="row">
                                  <p style="margin-left: 20%; margin-right: 30%;">
                                      <b> Total: </b> 
                                  </p>
                                  <b> {{this.asset.issuingPrice * this.amount + this.fees.transaction + this.fees.blockchain + this.fees.smsNotification | currency:"$"}} * {{(this.fees.nse/ 100)}}  </b>
                              </div>
                                
                                
                            </div>
                          
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal" style="margin-right: 50%; background-color: red; border-color: transparent;">Cancel</button>
                          <button data-dismiss="modal" *ngIf="radioGroup.value === 'buy'  " (ngSubmit)="buy(buyForm)" (click)="buy(buyForm)" type="submit" class="btn btn-primary" style="background-color: green; border-color: transparent;">Confirm</button>
                          <button data-dismiss="modal" *ngIf="radioGroup.value === 'sell'  " (ngSubmit)="secBuy(this.amount, this.price)" (click)="buy(buyForm)" type="submit" class="btn btn-primary" style="background-color: green; border-color: transparent;">Confirm</button>
                        </div>
                      </div>
                    </div>
                  </div>
                        


              </form>

              <!-- Button trigger modal -->
  
              
              </mat-card-content>
            </mat-card>
      
          </div>
  
      </div>


      <div class="container-fluid container-lg container-home" *ngIf="this.pageHistory === 'sellPage'">
        <p class="text-uppercase small font-weight-medium">
            Details
        </p>
        <h2 class="text-uppercase font-weight-light">
            View More details:
        </h2>
        <div class="row" style=" padding-bottom: 15px; overflow-x: scroll; margin-top: 3rem;">
          <mat-card class="col-lg-7 col-md-7 col-sm-7" style="border-radius: 10px; font-family: 'Inter'">
            <mat-card-header>
              <img src="{{this.asset.imageUrl}}" style="width: 100%; margin-bottom: 10px; margin-left: 1rem;
               box-shadow: 5px 5px 5px #ccc;
                      -moz-box-shadow: 10px 10px 5px #ccc;
                      -webkit-box-shadow: 10px 10px 5px #ccc;
                      -khtml-box-shadow: 10px 10px 5px #ccc;">
            </mat-card-header>
            <mat-card-subtitle style="text-align: center;">
              Artist: {{this.asset.artistName}}
            </mat-card-subtitle>
            <mat-card-content>
            </mat-card-content>
          </mat-card>
    
          <mat-card class="col-lg-3 col-md-3 col-sm-3" style="font-family: 'Inter', serif;">
            <mat-card-content>
              <div class="col-lg-12 col-md-12 col-sm-12">
                <p>
                  <b> Title: </b> {{this.asset.titleOfWork}}
                </p>
      
                <p>
                    <b> Created on: </b> {{this.asset.createdOn  | date }}
                </p>
      
                <p>
                  <b> Market Price: </b>  {{this.asset.marketPrice | currency:"$"}}
                </p>
               <p>
                <b> Symbol: </b> {{this.asset.symbol}}
               </p>
                <p>
                  <b> Total Supply: </b> {{this.asset.totalSupply}}
                </p>
                <p>
                  <b>Remaining Shares:</b> {{this.remainingShares}}
                </p>
                <p *ngIf="this.asset.market === 1">
                  <b>Market:</b> Secondary
                </p>
                <p *ngIf="this.asset.market === 0">
                  <b>Market:</b> Primary
                </p>
                <p>
                  <b> Token ID: </b> 
                   <a href="https://blockscout.com/poa/sokol/tokens/0x0B0faDc11c1E868dD0Dbca84436BFAA08Ee2f360/instance/{{this.asset.tokenId}}/token-transfers" target="_blank" style="color: blue;">
                   
                      {{this.asset.tokenId}} - 
                      Verify <span class="material-icons" style="color: orange !important;">
                        fingerprint
                      </span>
                  </a>
                </p>
                <p>
                  <b> Description: </b> {{this.asset.description}}
                </p>
                
                
              </div>
            </mat-card-content>
          </mat-card>
    
    
          <mat-card class="col-lg-2 col-md-2 col-sm-2" style="border-radius: 10px;" style="font-family: 'Inter', serif;" *ngIf="this.asset.market !== 0 && this.notLoggedIn === false ">
            <div class="col-md-2" style="margin-left: 9px !important; padding-left: 0 !important;">

              <div class="btn-group btn-group-toggle" id="filterCategory" data-toggle="buttons" style="border-color: black;">
                <label class="btn btn-md btn-outline-secondary" 
                      [ngClass]="{active : currentButton == 'first'}"
                      (click) = "currentButton='first'"
                      style="width: 77px !important; text-transform: capitalize;"
                       >
                  <input type="radio" name="options" autocomplete="off" checked >Limit  
                </label>
                <label class="btn btn-md btn-outline-secondary"
                       [ngClass]="{active : currentButton == 'second'}"
                      (click) = "currentButton='second'"
                      style="width: 85px !important; text-transform: capitalize;"
                  >
                  <input type="radio" name="options" autocomplete="off"> Market
                  
                </label>
              </div>
          
            </div>
            <mat-card-content *ngIf="this.currentButton === 'first'">
              <form #sellForm="ngForm" novalidate>
                <!-- <div class="row" *ngIf="this.asset.market !== 0">
                  <div class="col-lg-12 col-md-12 col-sm-12">
                    <mat-label>Order Strategy</mat-label>
                    <mat-select id ="orderStrategy" name="orderStrategy" placeholder="Good Till Cancel" [(ngModel)]="orderStrategy" >
                      <mat-option *ngFor="let strategy of demoStrategy" [value]="strategy.code" > {{strategy.name}} </mat-option>
                    </mat-select>
                          
                  </div>
              </div> -->

              <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <p><b> Account Balance: </b>  {{this.balance | currency:"$"}} </p>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12">
                  <p> <b> Owned Shares: </b> {{this.shares}} </p>
                </div>
  
              </div>

              <div class="row">

                <mat-radio-group
                aria-labelledby="example-radio-group-label"
                class="example-radio-group"
                #radioGroup="matRadioGroup"
                style="color: black !important;">
                <mat-radio-button class="example-radio-button" value="buy" style="margin-left: 1rem; margin-right: 2rem; margin-top: 1rem"  *ngIf="this.shares > 0">
                  Buy
                </mat-radio-button>
                <mat-radio-button class="example-radio-button" value="sell" style="margin-left: 1rem; margin-bottom: 1rem; color: black !important;" *ngIf="this.shares > 0">
                 Sell
                </mat-radio-button>
              </mat-radio-group>

              </div>
    
                <div class="row" *ngIf="this.asset.market !== 0">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width">
                        <input matInput placeholder="Quantity" type="number" id="amount" name="amount" [(ngModel)]="amount">
                      </mat-form-field>
                    </div>
                </div>
    
                <div class="row" *ngIf="this.asset.market !== 0">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                      <mat-form-field class="example-full-width">
                        <input matInput placeholder="Price" type="number" id="price" name="price" [(ngModel)]="price">
                      </mat-form-field>
                    </div>
                </div>
                
                <div style="padding-bottom: 20px; " *ngIf=" this.asset.market !== 0 && this.amount && this.price && radioGroup.value === 'sell'">
                  <button  data-toggle="modal" data-target="#sellModalLong" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;">
                
                    Sell Asset
                
                </button>
                  <div class="clearfix"></div>
                </div>

                <button *ngIf="radioGroup.value === 'buy' && this.amount && this.asset.market !==0 || this.amount && this.asset.market !== 0" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;"  data-toggle="modal" data-target="#secBuyModalLong">
                
                  Buy Asset
              
              </button>

              <button disabled *ngIf="radioGroup.value === 'buy' && !this.amount && this.asset.market !==0" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;"  data-toggle="modal" data-target="#buyModalLong">
                
                Buy Asset
            
            </button>

            <button disabled *ngIf="radioGroup.value === null && this.asset.market !==0 && !this.amount" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;"  data-toggle="modal" data-target="#buyModalLong">
                
              Buy Asset
          
          </button>

                <div style="padding-bottom: 20px; " *ngIf="this.asset.market === 0 && radioGroup.value === 'sell' || !this.amount && radioGroup.value === 'sell'|| !this.price && radioGroup.value === 'sell' ">
                  <button (click)="sell(sellForm)" disabled class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;">
                
                    Sell Asset
                
                </button>
                  <div class="clearfix"></div>
                </div>





                <div  class="modal fade" id="secBuyModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" *ngIf="this.amount">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel" style="text-align: center !important;">Order Confirmation</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                          <div *ngIf="this.asset.market !== 0">
                            <div>
                              Please confirm that you intend to buy {{this.asset.titleOfWork}} at market Order with the following breakdown in prices:  



                            
                            <div class="row" style="margin-top: 1rem;">
                                <p style="margin-left: 19%; margin-right: 29%;">
                                    <b>Price: </b> 
                                </p>
                                <b>  {{this.asset.marketPrice | currency:"$"}} </b>
                            </div>
                            <div class="row">
                                <p style="margin-left: 19%; margin-right: 24%;">
                                    <b> Quantity: </b> 
                                </p>
                                <b> {{this.amount}} </b>
                            </div>

                            <div class="row">
                              <p style="margin-left: 19%; margin-right: 24%;">
                                <b>SMS Fee:</b>
                              </p>
                              <b>    {{this.fees.smsNotification | currency:"$"}}</b>
                            </div>

                            <div class="row">
                              <p style="margin-left: 19%; margin-right: 24%;">
                                <b>
                                  NSE Fee:
                                </b>
                              </p>
                              <b>
                                 {{this.fees.nse}}%
                              </b>
                            </div>

                            <div class="row">
                              <p style="margin-left: 19%; margin-right: 15%;">
                                <b> Transaction Fee: </b>
                              </p>
                              <b> {{this.fees.transaction | currency:"$"}} </b>
                            </div>

                            <div class="row">
                              <p style="margin-left: 19%; margin-right: 15%;">
                                <b> Blockchain Fee: </b>
                              </p>
                              <b> {{this.fees.blockchain | currency:"$"}}</b>
                            </div>

                            <div class="row">
                              <p style="margin-left: 19%; margin-right: 28%;">
                                  <b> Total: </b> 
                              </p>
                              <b>  {{this.asset.marketPrice * this.amount  + this.fees.transaction + this.fees.blockchain + this.fees.smsNotification | currency:"$"}} * {{(this.fees.nse/ 100)}} </b>
                          </div>

                            </div>
                              
                              
                          </div>
                  
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" style="margin-right: 50%; background-color: red; border-color: transparent;">Cancel</button>
                        <button data-dismiss="modal"  (click)="secBuy(this.amount, this.price)" class="btn btn-primary" style="background-color: green; border-color: transparent;">Confirm</button>
                      </div>
                    </div>
                  </div>
                </div>


                <div  class="modal fade" id="sellModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" *ngIf="this.amount && radioGroup.value === 'sell' ">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel" style="text-align: center !important;">Order Confirmation</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                          <div *ngIf="this.asset.market !== 0 && radioGroup.value === 'sell'">
                            <div>
                              Please confirm that you intend to sell {{this.amount}} amounts of {{this.asset.titleOfWork}} at market Order.  
                            </div>
                          </div>
                  
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" style="margin-right: 50%; background-color: red; border-color: transparent;">Cancel</button>
                        <button data-dismiss="modal"  (click)="sell(sellForm)" class="btn btn-primary" style="background-color: green; border-color: transparent;">Confirm</button>
                      </div>
                    </div>
                  </div>
                </div>


            </form>
            </mat-card-content>


            <mat-card-content *ngIf="this.currentButton === 'second' ">
              <form #buyForm="ngForm"  novalidate>

                <div class="row">
                  <div>

                    <mat-radio-group
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group"
                      #radioGroup="matRadioGroup"
                      style="color: black !important;">
                      <mat-radio-button class="example-radio-button" value="buy" style="margin-left: 1rem; margin-right: 3rem; margin-top: 1rem">
                        Buy Order
                      </mat-radio-button>
                      <mat-radio-button class="example-radio-button" value="sell" style="margin-left: 1rem; margin-bottom: 1rem; color: black !important;">
                       Sell Order
                      </mat-radio-button>
                    </mat-radio-group>
                  </div>

                </div>
 
                  <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12">
                          <p><b> Account Balance: </b>   {{this.balance | currency:"$"}} </p>
                      </div>

                      <div class="col-lg-12 col-md-12 col-sm-12">
                        <p><b> Owned Shares: </b> {{this.shares}} </p>
                      </div>
       
                  </div>
         
                  <div class="row">
                      <div class="col-lg-12 col-md-12 col-sm-12">
                          <mat-form-field class="example-full-width">
                          <input matInput placeholder="Quantity" type="number" id="amount" name="amount" [(ngModel)]="amount">
                          </mat-form-field>
                      </div>
                  </div>
         
                     
                  <div style="padding-bottom: 20px; ">
                      <button *ngIf="this.amount && this.shares !== 0" data-toggle="modal" data-target="#marketModalLong" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;">
                  
                      Place Order
                  
                      </button>

                      <button *ngIf="!this.amount" disabled class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green;">
                  
                        Place Order
                    
                        </button>
                  
                  </div>



                <div  class="modal fade" id="marketModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" *ngIf="this.amount">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel" style="text-align: center !important;">Order Confirmation</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>


                      <div class="modal-body" *ngIf="radioGroup.value === 'buy'">
                       

                        <div>
                          Please confirm that you intend to buy {{this.asset.titleOfWork}} at market Order with the following breakdown in prices:  



                        
                        <div class="row" style="margin-top: 1rem;">
                            <p style="margin-left: 19%; margin-right: 29%;">
                                <b>Price: </b> 
                            </p>
                            <b>  {{this.fees.marketPrice | currency:"$"}} </b>
                        </div>
                        <div class="row">
                            <p style="margin-left: 19%; margin-right: 24%;">
                                <b> Quantity: </b> 
                            </p>
                            <b> {{this.amount}} </b>
                        </div>

                        <div class="row">
                          <p style="margin-left: 19%; margin-right: 24%;">
                            <b>SMS Fee:</b>
                          </p>
                          <b>  {{this.fees.smsNotification| currency:"$"}} </b>
                        </div>

                        <div class="row">
                          <p style="margin-left: 19%; margin-right: 24%;">
                            <b>
                              NSE Fee:
                            </b>
                          </p>
                          <b>
                             {{this.fees.nse}}%
                          </b>
                        </div>

                        <div class="row">
                          <p style="margin-left: 19%; margin-right: 15%;">
                            <b> Transaction Fee: </b>
                          </p>
                          <b>  {{this.fees.transaction | currency:"$"}} </b>
                        </div>

                        <div class="row">
                          <p style="margin-left: 19%; margin-right: 15%;">
                            <b> Blockchain Fee: </b>
                          </p>
                          <b>  {{this.fees.blockchain | currency:"$"}} </b>
                        </div>

                        <div class="row">
                          <p style="margin-left: 19%; margin-right: 28%;">
                              <b> Total: </b> 
                          </p>
                          <b> {{this.asset.marketPrice * this.amount + this.fees.transaction + this.fees.blockchain + this.fees.smsNotification | currency:"$"}} * {{(this.fees.nse/ 100)}} </b>
                      </div>

                        </div>
                                                    
                      
                    </div>

                    <div class="modal-body" *ngIf="radioGroup.value === 'sell'">
                      <div>
                        Please confirm that you intend to sell {{this.amount}} amounts of {{this.asset.titleOfWork}} at market Order.  
                      </div>
                    
                  </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" style="margin-right: 50%; background-color: red; border-color: transparent;">Cancel</button>
                        <button data-dismiss="modal"  (click)="sendMarketOrder(radioGroup)" type="submit" class="btn btn-primary" style="background-color: green; border-color: transparent;">Confirm</button>
                      </div>
                    </div>
                  </div>
                </div>
                 </form>
       

          </mat-card-content>
          


          </mat-card>
    
        </div>

    </div>



   



    <div class="container-fluid container-lg container-home" *ngIf="this.pageHistory === 'approvePage'">
      <p class="text-uppercase small font-weight-medium">
          Details
      </p>
      <h2 class="text-uppercase font-weight-light">
          View More details:
      </h2>
      <div class="row" style=" padding-bottom: 15px; overflow-x: scroll; margin-top: 3rem;">
        <mat-card class="col-lg-6 col-md-6 col-sm-6" style="border-radius: 10px;" style="font-family: 'Inter', serif;">
          <mat-card-header>
            <img src="{{this.asset.imageUrl}}" style="width: 80%; margin-bottom: 10px; margin-left: 1rem;
             box-shadow: 5px 5px 5px #ccc;
                      -moz-box-shadow: 10px 10px 5px #ccc;
                      -webkit-box-shadow: 10px 10px 5px #ccc;
                      -khtml-box-shadow: 10px 10px 5px #ccc;">
          </mat-card-header>
          <mat-card-subtitle style="text-align: center;">
            Artist: {{this.asset.artistName}}
          </mat-card-subtitle>
          <mat-card-content>
          </mat-card-content>
        </mat-card>
  
        <mat-card class="col-lg-3 col-md-3 col-sm-3" style="font-family: 'Inter', serif;">
          <mat-card-content>
            <div class="col-lg-12 col-md-12 col-sm-12">
              <p>
                <b> Title: </b> {{this.asset.titleOfWork}}
              </p>
    
              <p>
                  <b> Created on: </b> {{this.asset.createdOn  | date }}
              </p>
    
              <p>
                <b> Issuing Price: </b>  {{this.fees.issuingPrice | currency:"$"}}
              </p>
              <p>
                <b> Price: </b>  {{this.fees.price | currency:"$"}}
              </p>
             <p>
              <b> Symbol: </b> {{this.asset.symbol}}
             </p>
              <p>
                    <b> Total Supply: </b> {{this.asset.totalSupply}}
              </p>
              <p>
                <b>Remaining Shares:</b> {{this.remainingShares}}
              </p>
              <p>
                <b> Token ID: </b>  
                  <a href="https://blockscout.com/poa/sokol/tokens/0x9143F12B3c1ef1CC4d814b53b2480429b3D81e0E/instance/{{this.asset.tokenId}}/token-transfers" target="_blank" style="color: blue;"> 
                    {{this.asset.tokenId}} - 
                    Verify <span class="material-icons" style="color: orange !important;">
                      fingerprint
                    </span>
                  </a>
              </p>
              <p>
                <b> Description: </b> {{this.asset.description}}
              </p>
              <p>
                <b>Edit</b>  <mat-icon  data-toggle="modal" data-target="#approveModalLong" matPrefix style="margin-right: 2rem ;">create</mat-icon>    
              </p>
              
              
            </div>
          </mat-card-content>
        </mat-card>
  
  
        <mat-card class="col-lg-3 col-md-3 col-sm-3" style="border-radius: 10px;">
          <mat-card-content style="font-family: 'Inter', serif;">
            <button (click)="approve(this.asset.tokenId, true)" type="submit" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green; border-color: transparent; color: white;">
                
              Approve
          </button>
  
            
          <button (click)="approve(this.asset.tokenId, false)" type="submit" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: red; border-color: transparent; color: black;">
                
            Decline
        </button>

        <div  class="modal fade" id="approveModalLong" tabindex="-1" role="dialog" aria-labelledby="approveModalLongTitle" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h3>
                  Update details for {{this.asset.titleOfWork}}
                </h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                    
                      <form novalidate #updateHolidayForm="ngForm">
                        <mat-form-field  style="height: 5rem; font-family: 'Cardo', serif; width: 90%;" >
                          <mat-icon matPrefix style="margin-right: 2rem ;">date_range</mat-icon>
                                <mat-label>choose a date range for this holiday</mat-label>
                                <mat-date-range-input [rangePicker]="picker">
                                  <input matStartDate placeholder="Start date">
                                  <input matEndDate placeholder="End date">
                                </mat-date-range-input>
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-date-range-picker #picker></mat-date-range-picker>
                        </mat-form-field>
                      </form>


                          
                
              </div>
              <div class="modal-footer">
                <button type="button"  data-dismiss="modal" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: #f55d45; border-color: transparent;">Cancel</button>
                <button (click)="updateHoliday(updateHolidayForm)"  data-dismiss="modal" type="submit" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: #333333; margin-left: 30%;">Update</button>
              </div>
            </div>
          </div>
        </div>
        

        <form [formGroup]="form">

          <div class="row">

            <img *ngIf="this.image" src="{{this.image}}" style="width: 60%; margin-left: 15%; margin-bottom: 3rem; margin-top: 2rem;">
           

            <div  style="font-family: 'Cardo', serif; margin-bottom: 2rem;">
              <mat-label *ngIf="!this.image">
                <p style="margin-bottom: 1rem; margin-top: 2rem;">Please Upload an image showing the back of the artwork. </p>
              </mat-label>
                <input type="file" id="images" (change)="uploadFile($event)" #fileInput>
            </div>
          </div>

        </form>
              
              
          </mat-card-content>
        </mat-card>
  
      </div>

  </div>

      <div class="container-fluid container-lg container-home">
          
        <p class="text-uppercase small font-weight-medium">
            other listings
        </p>
        <h2 class="text-uppercase font-weight-light">
            recommendations
        </h2>
        <div class="d-flex flex-row flex-nowrap" style=" padding-bottom: 15px; overflow-x: scroll; margin-top: 3rem;">
            <mat-card (click)="viewBuy(item.tokenId, 'buyPage')" class="col-3 col-md-3 cover trend" *ngFor="let item of this.primaryMarket  let i=index">
                <mat-card-content  style="position: relative; ">
                    <img src="{{item.imageUrl}}" class="image" style=" box-shadow: 5px 5px 5px #ccc;
                    -moz-box-shadow: 10px 10px 5px #ccc;
                    -webkit-box-shadow: 10px 10px 5px #ccc;
                    -khtml-box-shadow: 10px 10px 5px #ccc;">
                    <p class="paragraph" style="font-family: 'Inter', serif;">
                      <b> Price: </b>  {{item.price | currency:"$"}}
                    </p>
                    <p class="paragraph" style="font-family: 'Inter', serif;">
                      <b> Artwork Title: </b> {{item.titleOfWork}}
                    </p>
                    
                    
                  </mat-card-content>
            </mat-card>
        </div>

    </div>




  </div>
  
      <app-footer></app-footer>

</div>


